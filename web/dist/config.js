/*! For license information please see config.js.LICENSE.txt */
(()=>{"use strict";var e={745:(e,r,t)=>{var n=t(533);r.s=n.createRoot,n.hydrateRoot},251:(e,r,t)=>{var n=t(363),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,t){var n,l={},c=null,u=null;for(n in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)a.call(r,n)&&!s.hasOwnProperty(n)&&(l[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===l[n]&&(l[n]=r[n]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:i.current}}r.jsx=l,r.jsxs=l},893:(e,r,t)=>{e.exports=t(251)},363:e=>{e.exports=React},533:e=>{e.exports=ReactDOM}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e=t(893),r=t(745),n=t(363),o=t.n(n);function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(){var r,t,o=(r=(0,n.useState)(""),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}}(r,t)||function(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],s=o[1];return(0,e.jsx)("div",{className:"flex items-center justify-center flex-col h-full",children:(0,e.jsx)("div",{className:"mx-auto w-1/2 h-80 flex items-center justify-center",children:(0,e.jsx)("div",{className:"mx-auto w-1/2",children:(0,e.jsxs)("div",{className:"relative overflow-hidden rounded-md border border-gray-300 shadow-sm focus-within:border-primary-300 focus-within:ring focus-within:ring-primary-200 focus-within:ring-opacity-50",children:[(0,e.jsx)("textarea",{id:"token-input",className:"block w-full p-1 border-0 focus:border-0 focus:ring-0 resize-none",rows:5,placeholder:"请输入 sm.ms 的 API Token",onChange:function(e){return s(e.target.value)}}),(0,e.jsxs)("div",{className:"flex w-full items-center justify-between bg-white p-2",children:[(0,e.jsx)("div",{className:"flex space-x-1",children:(0,e.jsx)("a",{className:"rounded p-1.5 text-secondary-400 hover:bg-primary-50 hover:text-primary-400 cursor-pointer",href:"https://sm.ms/home/apitoken",target:"_blank",rel:"noreferrer",children:(0,e.jsxs)("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:[(0,e.jsx)("path",{d:"M17 0h-5.768a1 1 0 1 0 0 2h3.354L8.4 8.182A1.003 1.003 0 1 0 9.818 9.6L16 3.414v3.354a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1Z"}),(0,e.jsx)("path",{d:"m14.258 7.985-3.025 3.025A3 3 0 1 1 6.99 6.768l3.026-3.026A3.01 3.01 0 0 1 8.411 2H2.167A2.169 2.169 0 0 0 0 4.167v11.666A2.169 2.169 0 0 0 2.167 18h11.666A2.169 2.169 0 0 0 16 15.833V9.589a3.011 3.011 0 0 1-1.742-1.604Z"})]})})}),(0,e.jsx)("button",{id:"save-btn",type:"button",className:"rounded border border-primary-500 bg-primary-500 px-2 py-1.5 text-center text-xs font-medium text-white shadow-sm transition-all hover:bg-primary-700 focus:ring focus:ring-primary-100",onClick:function(){(function(e){var r="Bearer ".concat(e);return fetch("/api/profile",{headers:{Authorization:r}}).then((function(e){return e.json()})).then((function(e){return"success"===e.code?(localStorage.setItem("token",r),!0):(alert("保存失败,请检查 token 的有效性"),!1)})).catch((function(){alert("网络请求错误")}))})(i).then((function(e){e&&(window.location.href="/")}))},children:"保存"})]})]})})})})}(0,r.s)(document.getElementById("app")).render((0,e.jsx)(o().StrictMode,{children:(0,e.jsx)(i,{})}))})()})();